Hi Claude,

## Compiling

go into this directory, activate conda with:

```sh
conda activate hledger_preprocessor
```

There are several run commands. ./start.sh runs it all from start to finish, and that ends in a plot that can be seen from the browser at localhost:8050

## Config

look at the example config and load_config.py to see how that works, everyting should be recreated the same if run ./start.sh from the same csv input(s).

You can check that output to determine if your changes still allow succesfull compilation/running.

## Readmes

Some of the manuals/\*.md files contain outdated information. We will cleanup later.

## Context

This is the python module that orchestrates bookkeeping data preprocessing and labelling, along with a TUI to allow users to quickly label receipts.

## Requests

- Be consise and accurate in the text you write.

## testing:

Look at manuals/TESTING.md and test/e2e/test_gif_generation.py as examples of the test structure to follow.

```sh
conda activate hledger_preprocessor
python -m pytest
```

Currently the test_gif_generation for --edit-receipt works completely. And we are working to make an end-to-end test for the ./start.sh functionality.

## Developing

Always check if your changes work.
Never just look at whether the tests passes, always also check whether the cli output does not contain any errors.

## Proposed GIF Sequence (7 short demos)

All these gifs should use the unmodified src code. Never should you fake data just to make a nice gif.

Pick 1 scenario to demonstrate the whole functionality of the repo. E.g.:

- you have a csv with 3 transactions.
- You have 1 receipt of groceries, which was paid by card. That transaction is in 1 of those 3 csv transactions.

Flow:
01_setup_config | Edit config.yaml to add bank account + wallet |

02_add_category | Add groceries:ekoplaza to categories.yaml

3. I think the ./start.sh then starts looking for receipts, and finds the one with the groceries. That first needs to be cropped, so show that process.

04_label_receipt | TUI labelling a receipt image (reuse edit_receipt).

## 05_match_receipt_to_csv | Matching algo linking receipt â†’ bank CSV transaction. Really run that command on working data.

6. Run the whole ./start.sh from scratch (once the receipt has been cropped, labelled and matched to the csv transaction) to show the whole flow.

07 Show the dash plots generated by the .start.sh
